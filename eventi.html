<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I Nostri Eventi</title>
    <!-- Google Fonts: Red Hat Display -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:wght@400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="inner-page-bg">
    <div id="animation-container"></div>
    <header class="site-header-nav">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <!-- Usa il logo in formato SVG per qualità e leggerezza -->
                <img src="images/f!_logo.png" alt="Fela! Logo">
            </a>
            <button class="hamburger-menu" aria-label="Apri menu" aria-expanded="false">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
            <nav class="main-nav">
                <a href="index.html">Home</a>
                <a href="menu.html">Menu</a>
                <a href="brunch.html" id="brunch-nav-link">Il Brunch</a>
                <a href="eventi.html" class="active">Eventi</a>
            </nav>
        </div>
    </header>
    <div class="page-container">
        <h1>I Nostri Eventi</h1>

        <div class="calendar-nav">
            <button id="prev-month" class="nav-arrow" aria-label="Mese precedente">‹</button>
            <span id="current-month-display"></span>
            <button id="next-month" class="nav-arrow" aria-label="Mese successivo">›</button>
        </div>

        <div id="calendar-october" class="calendar-container active" data-year="2025" data-month="9"> <!-- Mese 9 = Ottobre (0-indexed) -->
            <div class="calendar-header">
                <h2>Ottobre 2025</h2>
            </div>
            <div class="calendar-grid">
                <!-- Intestazioni giorni della settimana -->
                <div class="weekday-header">Lun</div>
                <div class="weekday-header">Mar</div>
                <div class="weekday-header">Mer</div>
                <div class="weekday-header">Gio</div>
                <div class="weekday-header">Ven</div>
                <div class="weekday-header">Sab</div>
                <div class="weekday-header">Dom</div>

                <!-- Giorni del mese -->
                 <!-- Settimana 1 (Ottobre 2025 inizia di Mercoledì) -->
                 <div class="day-cell"></div>
                 <div class="day-cell has-event">30 <span class="event-marker">Homies...</span>
                    <div class="event-details-content"><h3>Homies Selection</h3><p>Music, drink & Food for soul!</p><p class="event-time">Dalle 18.00 Bar Room</p></div>
                 </div>
                 <div class="day-cell in-month has-event">1 <span class="event-marker">OUTPUMP...</span>
                     <div class="event-details-content"><h3>OUTPUMP on tour!</h3><p>w/ Supersonido Crew x Complefela!</p><p class="event-time">Dalle 18.00 Bar Room</p></div>
                 </div>
                 <div class="day-cell in-month has-event">2 <span class="event-marker">Homies...</span>
                     <div class="event-details-content"><h3>Homies Selection</h3><p>Music, drink & Food for soul!</p><p class="event-time">Dalle 18.00 Bar Room</p></div>
                 </div>
                 <div class="day-cell in-month has-event">3 <span class="event-marker">BOEM...</span>
                     <div class="event-details-content"><h3>BOEM FESTIVAL Soundsystem</h3><p class="event-time">Dalle 18.00 Bar Room</p><p class="event-time">Dalle 22.00 Mini Club</p></div>
                 </div>
                 <div class="day-cell in-month has-event">4 <span class="event-marker">Albici Dj Set</span>
                     <div class="event-details-content"><h3>Albici Dj Set (Extravaganza)</h3><p class="event-time">Dalle 18.00 Bar Room</p><p class="event-time">Dalle 22.00 Mini Club</p></div>
                 </div>
                 <div class="day-cell in-month has-event">5 <span class="event-marker">Homies...</span>
                     <div class="event-details-content"><h3>Homies Selection</h3><p>Music, drink & Food for soul!</p><p class="event-time">Dalle 18.00 Bar Room</p></div>
                 </div>
 
                 <!-- Settimana 2 -->
                 <div class="day-cell in-month closing-day">6 <span class="event-marker">FELAKIUDI</span></div>
                 <div class="day-cell in-month has-event">7 <span class="event-marker">Ernesto...</span>
                     <div class="event-details-content"><h3>Ernesto vien da Fela!</h3><p>Percorso di Degustazione vini</p><p class="event-time">Dalle 18.00 Bar Room</p></div>
                 </div>
                 <div class="day-cell in-month has-event">8 <span class="event-marker">FiloQ...</span>
                     <div class="event-details-content"><h3>FiloQ plays his record x Complefela!</h3><p class="event-time">Dalle 18.00 Bar Room</p></div>
                 </div>
                 <div class="day-cell in-month has-event">9 <span class="event-marker">NoOXpres...</span>
                     <div class="event-details-content"><h3>NoOXpres.: “Sound as Identity and Resistance”</h3><p>TALK + Alassane Badboy LIVE</p><p class="event-time">Dalle 18.00 Bar Room</p></div>
                 </div>
                 <div class="day-cell in-month has-event">10 <span class="event-marker">Andrea P...</span>
                     <div class="event-details-content"><h3>Andrea Passenger All Night Long</h3><p class="event-time">Dalle 18.00 Bar Room</p><p class="event-time">Dalle 22.00 Mini Club</p></div>
                 </div>
                 <div class="day-cell in-month has-event">11 <span class="event-marker">Reggae...</span>
                     <div class="event-details-content"><h3>Carlito & Frenci Vibes - Reggae Night</h3><p class="event-time">Dalle 18.00 Bar Room</p><p class="event-time">Dalle 22.00 Mini Club</p></div>
                 </div>
                 <div class="day-cell in-month has-event">12 <span class="event-marker">DI GIORNO!</span>
                     <div class="event-details-content"><h3>DI GIORNO!</h3><p>Northern Soul, Modern Soul, R’n’B w/ Adri, Babs & Kriupan</p><p class="event-time">Dalle 18.00 Bar Room</p></div>
                 </div>
 
                 <!-- Settimana 3 -->
                 <div class="day-cell in-month closing-day">13 <span class="event-marker">FELAKIUDI</span></div>
                 <div class="day-cell in-month has-event">14 <span class="event-marker">Homies...</span>
                     <div class="event-details-content"><h3>Homies Selection</h3><p>Music, drink & Food for soul!</p><p class="event-time">Dalle 18.00 Bar Room</p></div>
                 </div>
                 <div class="day-cell in-month has-event">15 <span class="event-marker">Pecer...</span>
                     <div class="event-details-content"><h3>Pecer selecta x Complefela! (DiscoRiviera)</h3><p class="event-time">Dalle 18.00 Bar Room</p></div>
                 </div>
                 <div class="day-cell in-month has-event">16 <span class="event-marker">Homies...</span>
                     <div class="event-details-content"><h3>Homies Selection</h3><p>Music, drink & Food for soul!</p><p class="event-time">Dalle 18.00 Bar Room</p></div>
                 </div>
                 <div class="day-cell in-month has-event">17 <span class="event-marker">SUPER...</span>
                     <div class="event-details-content"><h3>SUPERSONIDO w/ ???</h3><p class="event-time">Dalle 18.00 Bar Room</p><p class="event-time">Dalle 22.00 Mini Club</p></div>
                 </div>
                 <div class="day-cell in-month has-event">18 <span class="event-marker">HipHop...</span>
                     <div class="event-details-content"><h3>Dj Kamo - HipHop Night</h3><p class="event-time">Dalle 18.00 Bar Room</p><p class="event-time">Dalle 22.00 Mini Club</p></div>
                 </div>
                 <div class="day-cell in-month has-event">19 <span class="event-marker">BRUNCH</span>
                     <div class="event-details-content"><h3>KALAKUTA BRUNCH</h3><p class="event-time">dalle 11.00</p></div>
                 </div>
 
                 <!-- Settimana 4 -->
                 <div class="day-cell in-month closing-day">20 <span class="event-marker">FELAKIUDI</span></div>
                 <div class="day-cell in-month has-event">21 <span class="event-marker">Homies...</span>
                     <div class="event-details-content"><h3>Homies Selection</h3><p>Music, drink & Food for soul!</p><p class="event-time">Dalle 18.00 Bar Room</p></div>
                 </div>
                 <div class="day-cell in-month has-event">22 <span class="event-marker">Quiet a...</span>
                     <div class="event-details-content"><h3>Quiet a Village selecta x Complefela!</h3><p class="event-time">Dalle 18.00 Bar Room</p></div>
                 </div>
                 <div class="day-cell in-month has-event">23 <span class="event-marker">Salotto...</span>
                     <div class="event-details-content"><h3>“Il Salotto di Fela”</h3><p>talk & ascolto di vinili con Dalida</p><p class="event-time">Dalle 18.00 Bar Room</p></div>
                 </div>
                 <div class="day-cell in-month has-event">24 <span class="event-marker">Adventure...</span>
                     <div class="event-details-content"><h3>Adventures Soundsystem</h3><p class="event-time">Dalle 18.00 Bar Room</p><p class="event-time">Dalle 22.00 Mini Club</p></div>
                 </div>
                 <div class="day-cell in-month has-event">25 <span class="event-marker">Disco...</span>
                     <div class="event-details-content"><h3>Discomoderni</h3><p>Tropical Lover, Afro electro, Latin bass & Italian trips</p><p class="event-time">Dalle 18.00 Bar Room</p><p class="event-time">Dalle 22.00 Mini Club</p></div>
                 </div>
                 <div class="day-cell in-month has-event">26 <span class="event-marker">Homies...</span>
                     <div class="event-details-content"><h3>Homies Selection</h3><p>Music, drink & Food for soul!</p><p class="event-time">Dalle 18.00 Bar Room</p></div>
                 </div>
 
                 <!-- Settimana 5 -->
                 <div class="day-cell in-month closing-day">27 <span class="event-marker">FELAKIUDI</span></div>
                 <div class="day-cell in-month has-event">28 <span class="event-marker">La Pesa...</span>
                     <div class="event-details-content"><h3>La Pesa meet Fela!</h3><p>Percorso gastronomico a cura di Davide Pastorino</p><p class="event-time">Dalle 18.00 Bar Room</p></div>
                 </div>
                 <div class="day-cell in-month has-event">29 <span class="event-marker">Federico F...</span>
                     <div class="event-details-content"><h3>Federico F selecta x Complefela!</h3><p class="event-time">Dalle 18.00 Bar Room</p></div>
                 </div>
                 <div class="day-cell in-month has-event">30 <span class="event-marker">Homies...</span>
                     <div class="event-details-content"><h3>Homies Selection</h3><p>Music, drink & Food for soul!</p><p class="event-time">Dalle 18.00 Bar Room</p></div>
                 </div>
                 <div class="day-cell in-month has-event">31 <span class="event-marker">Reggae...</span>
                     <div class="event-details-content"><h3>Ganja Farmer Sound - Reggae Night</h3><p class="event-time">Dalle 18.00 Bar Room</p><p class="event-time">Dalle 22.00 Mini Club</p></div>
                 </div>
                 <div class="day-cell"></div><div class="day-cell"></div>

            </div>
        </div>

        <!-- Calendario Novembre -->
        <div id="calendar-november" class="calendar-container" data-year="2025" data-month="10"> <!-- Mese 10 = Novembre (0-indexed) -->
            <div class="calendar-header">
                <h2>Novembre 2025</h2>
            </div>
            <div class="calendar-grid">
                <!-- Intestazioni giorni della settimana -->
                <div class="weekday-header">Lun</div>
                <div class="weekday-header">Mar</div>
                <div class="weekday-header">Mer</div>
                <div class="weekday-header">Gio</div>
                <div class="weekday-header">Ven</div>
                <div class="weekday-header">Sab</div>
                <div class="weekday-header">Dom</div>

                <!-- Giorni del mese -->
                 <!-- Settimana 1 (Novembre 2025 inizia di Sabato) -->
                 <div class="day-cell"></div><div class="day-cell"></div><div class="day-cell"></div><div class="day-cell"></div><div class="day-cell"></div>
                 <div class="day-cell in-month has-event">1 <span class="event-marker">Gianluca P...</span>
                    <div class="event-details-content"><h3>Gianluca Petrella all night long</h3><p class="event-time">Dalle 18.00 Bar Room</p><p class="event-time">Dalle 22.00 Mini Club</p></div>
                 </div>
                 <div class="day-cell in-month has-event">2 <span class="event-marker">Homies...</span>
                    <div class="event-details-content"><h3>Homies Selection</h3><p>Music, drink & Food for soul!</p><p class="event-time">Dalle 18.00 Bar Room</p></div>
                 </div>

                 <!-- Settimana 2 -->
                 <div class="day-cell in-month closing-day">3 <span class="event-marker">FELAKIUDI</span></div>
                 <!-- Aggiungere qui altri giorni/eventi di Novembre -->

            </div>
        </div>


        <!-- Area dove verranno mostrati i dettagli dell'evento cliccato -->
        <div id="event-display-area">
            <!-- I dettagli dell'evento verranno inseriti qui da JavaScript -->
        </div>

    </div>

    <footer class="site-footer">
        <div class="footer-left">
            <p><strong>Fela! - Music Bar - Social Hub</strong></p>            
            <a href="https://maps.app.goo.gl/zhNrFjCBpWnWwXuP9" target="_blank" rel="noopener noreferrer">
                <p>Via di S. Cosimo, 6r, 16128 Genova GE</p>
            </a>
        </div>
        <div class="footer-right">
            <p>
                <strong>Orari:</strong><br>
                Mar-Gio: 18:00 - 01:00<br>
                Ven-Sab: 18:00 - 02:00<br>
                Dom: 18:00 - 01:00<br>
                Lun: FELAKIUDI
            </p>
        </div>
    </footer>

    <!-- Pop-up per il bottone Brunch (copiato da index.html) -->
    <div id="brunch-popup" class="brunch-popup-overlay">
        <div class="brunch-popup-content">
            <button id="brunch-close-btn" class="brunch-popup-close" aria-label="Chiudi">&times;</button>
            <p>Domenica 19 Ottobre</p>
            <h4>KALAKUTA BRUNCH</h4>
            <p>dalle 11.00</p>
        </div>
    </div>

    <script src="js/animations.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const eventCells = document.querySelectorAll('.day-cell.has-event');
            const displayArea = document.getElementById('event-display-area');

            const calendars = document.querySelectorAll('.calendar-container');
            const monthNames = ["Gennaio", "Febbraio", "Marzo", "Aprile", "Maggio", "Giugno", "Luglio", "Agosto", "Settembre", "Ottobre", "Novembre", "Dicembre"];
            const dayNames = ["Domenica", "Lunedì", "Martedì", "Mercoledì", "Giovedì", "Venerdì", "Sabato"];

            eventCells.forEach(cell => {
                cell.addEventListener('click', function() {
                    const eventDetailsContent = this.querySelector('.event-details-content');
                    if (eventDetailsContent) {
                        // --- NUOVA LOGICA PER LA DATA ---
                        const calendar = this.closest('.calendar-container');
                        const dayNumber = parseInt(this.firstChild.textContent.trim(), 10);
                        
                        let year = parseInt(calendar.dataset.year, 10);
                        let month = parseInt(calendar.dataset.month, 10);

                        // Gestisce i giorni che non appartengono al mese corrente
                        if (!this.classList.contains('in-month')) {
                            if (dayNumber > 20) { // Giorno del mese precedente
                                month = month - 1;
                                if (month < 0) {
                                    month = 11;
                                    year = year - 1;
                                }
                            } else { // Giorno del mese successivo
                                month = month + 1;
                                if (month > 11) {
                                    month = 0;
                                    year = year + 1;
                                }
                            }
                        }

                        // --- NUOVA LOGICA PER IL BOX DATA ---
                        const day = dayNumber;
                        const monthAbbr = monthNames[month].substring(0, 3).toUpperCase();

                        // Crea l'HTML per il quadratino della data
                        const dateBoxHtml = `
                            <div class="date-box">
                                <span class="day">${day}</span>
                                <span class="month">${monthAbbr}</span>
                            </div>`;

                        // Assembla il nuovo layout con il box data e una colonna per i dettagli
                        displayArea.innerHTML = `
                            <div class="event-header-with-date">
                                ${dateBoxHtml}
                                <div class="event-details-column">
                                    ${eventDetailsContent.innerHTML}
                                </div>
                            </div>`;

                        displayArea.classList.add('visible');
                        displayArea.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                });
            });

            // --- Logica di navigazione del calendario ---
            const prevMonthBtn = document.getElementById('prev-month');
            const nextMonthBtn = document.getElementById('next-month');
            const monthDisplay = document.getElementById('current-month-display');
            let currentCalendarIndex = 0;

            function showCalendar(index) {
                calendars.forEach((cal, i) => {
                    cal.classList.toggle('active', i === index);
                });
                const activeCalendar = calendars[index];
                const fullHeaderText = activeCalendar.querySelector('.calendar-header h2').textContent;
                const headerText = fullHeaderText.split(' ')[0]; // Prende solo il nome del mese
                monthDisplay.textContent = headerText;

                prevMonthBtn.disabled = index === 0;
                nextMonthBtn.disabled = index === calendars.length - 1;
                currentCalendarIndex = index;
            }

            prevMonthBtn.addEventListener('click', () => {
                if (currentCalendarIndex > 0) {
                    showCalendar(currentCalendarIndex - 1);
                }
            });

            nextMonthBtn.addEventListener('click', () => {
                if (currentCalendarIndex < calendars.length - 1) {
                    showCalendar(currentCalendarIndex + 1);
                }
            });

            // --- Funzione per mostrare l'evento del giorno ---
            function showTodaysEvent() {
                const today = new Date();
                const currentDay = today.getDate();
                const currentMonth = today.getMonth();
                const currentYear = today.getFullYear();
                let foundTodaysCalendar = false;

                // Itera per trovare il calendario e l'evento di oggi
                calendars.forEach((calendar, index) => {
                    const calendarYear = parseInt(calendar.dataset.year, 10);
                    const calendarMonth = parseInt(calendar.dataset.month, 10);

                    calendar.querySelectorAll('.day-cell.has-event').forEach(cell => {
                        const dayNumber = parseInt(cell.innerText.trim(), 10);
                        let cellMonth = calendarMonth;
                        let cellYear = calendarYear;

                        if (!cell.classList.contains('in-month')) {
                            if (dayNumber > 20) {
                                cellMonth = (calendarMonth === 0) ? 11 : calendarMonth - 1;
                                if (cellMonth === 11) cellYear--;
                            } else {
                                cellMonth = (calendarMonth === 11) ? 0 : calendarMonth + 1;
                                if (cellMonth === 0) cellYear++;
                            }
                        }

                        if (dayNumber === currentDay && cellMonth === currentMonth && cellYear === currentYear) {
                            showCalendar(index);
                            foundTodaysCalendar = true;
                            setTimeout(() => cell.click(), 100);
                        }
                    });
                });

                if (!foundTodaysCalendar) {
                    showCalendar(0); // Mostra il primo calendario se non troviamo quello di oggi
                }
            }
            showTodaysEvent(); // Esegui la funzione al caricamento della pagina

            // --- Logica per il menu Hamburger ---
            const hamburgerBtn = document.querySelector('.hamburger-menu');
            const navMenu = document.querySelector('.main-nav');

            hamburgerBtn.addEventListener('click', () => {
                const isNavOpen = navMenu.classList.contains('nav-open');
                navMenu.classList.toggle('nav-open');
                hamburgerBtn.classList.toggle('nav-open');
                hamburgerBtn.setAttribute('aria-expanded', !isNavOpen);
            });
        });
    </script>
    <script src="js/brunch-logic.js" defer></script>

</body>
</html>
